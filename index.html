<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <title>è®¿å®¢ä¿¡æ¯</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      font-size: 14px;
      line-height: 1.6;
      margin: 0;
      padding: 10px;
      background: #fff;
      color: #333;
    }
  </style>
</head>
<body>
<div id="info">æ­£åœ¨è·å–ä¿¡æ¯...</div>

<script>
  const token = "93a004dbe0e145";  // ipinfo.io token

  function countryFlagEmoji(countryCode) {
    return countryCode.replace(/./g, c =>
      String.fromCodePoint(c.charCodeAt(0) + 127397)
    );
  }

  fetch(`https://ipinfo.io?token=${token}`)
    .then(res => res.json())
    .then(data => {
      const ip = data.ip;
      const city = data.city || '';
      const countryCode = data.country || '';
      const org = data.org || '';
      const flag = countryCode.length === 2
        ? countryFlagEmoji(countryCode)
        : 'ğŸŒ';

      const html = `
        ç°åœ¨ä¸ºæ‚¨æä¾›æœåŠ¡çš„æœåŠ¡å™¨æ˜¯ ${flag} åŸå¸‚: ${city}ï¼ŒIP: ${window.location.hostname}ï¼Œè¿è¥å•†: Cloudflare, Inc.<br/>
        æ‚¨æ¥è‡ª ${flag} åŸå¸‚: ${city}ï¼ŒIP: ${ip}ï¼Œè¿è¥å•†: ${org}
      `;
      document.getElementById('info').innerHTML = html;
    })
    .catch(error => {
      console.error(error);
      document.getElementById('info').innerText = "è·å– IP ä¿¡æ¯å¤±è´¥";
    });
</script>
</body>
</html>
