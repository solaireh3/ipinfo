<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <title>è®¿å®¢ä¿¡æ¯</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      font-size: 13px;
      color: #555;
      line-height: 1.6;
      margin: 0;
      padding: 8px;
      background: #fff;
    }
  </style>
</head>
<body>
<div id="info">æ­£åœ¨è·å–ä¿¡æ¯...</div>

<script>
  const token = "93a004dbe0e145"; // ä½ çš„ ipinfo.io token

  function countryFlagEmoji(countryCode) {
    return countryCode.replace(/./g, c =>
      String.fromCodePoint(c.charCodeAt(0) + 127397)
    );
  }

  fetch(`https://ipinfo.io?token=${token}`)
    .then(res => res.json())
    .then(data => {
      const ip = data.ip;
      const city = data.city || '';
      const countryCode = data.country || '';
      const org = data.org || '';
      const flag = countryCode.length === 2
        ? countryFlagEmoji(countryCode)
        : 'ğŸŒ';

      const html = `
        æ‚¨æ¥è‡ª ${flag} åŸå¸‚: ${city}ï¼ŒIP: ${ip}ï¼Œè¿è¥å•†: ${org}
      `;
      document.getElementById('info').innerHTML = html;
    })
    .catch(error => {
      console.error(error);
      document.getElementById('info').innerText = "è·å– IP ä¿¡æ¯å¤±è´¥";
    });
</script>
</body>
</html>
